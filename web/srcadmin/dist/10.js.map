{"version":3,"sources":["webpack:///./src/ui/List.vue?0029","webpack:///./src/ui/List.vue?f2ff","webpack:///src/ui/List.vue","webpack:///./src/ui/List.vue"],"names":["component","_h","this","$createElement","_c","_self","attrs","id","fetchData","vueTableFields","filterComponents","massOperationComponents"],"mappings":"mGAAA,I,YCA8L,ECgB9L,CACE,KAAF,OACE,MAAF,CACI,GAAJ,OACI,UAAJ,OACI,eAAJ,MACI,iBAAJ,MACI,wBAAJ,OAEE,WAAF,CACI,SAAJ,KAEE,SAAF,CACI,eADJ,WAEM,IAAN,OACA,KAwBM,OAvBA,KAAN,oCACQ,IAAR,qBAOQ,GANR,wBACU,EAAV,iBACY,OAAZ,iCAIA,sBACU,IAAV,cACU,EAAV,gBACY,OAAZ,mCAIQ,EAAR,MACU,UAAV,YACU,MAAV,QACU,MAAV,QACU,MAAV,OAIA,IAGE,QAAF,CACI,UADJ,SACA,KAAM,IAAN,OACA,KAEA,KACQ,EAAR,IACA,uBACQ,EAAR,mCACQ,EAAR,uBACQ,EAAR,yBACQ,EAAR,kBAGM,KAAN,sBACM,EAAN,MACQ,OAAR,MACQ,IAAR,uBACQ,KAAR,IACA,kBACA,GACU,EAAV,CACY,KAAZ,CACc,MAAd,SACc,MAAd,uBAIQ,EAAR,wBACA,iBACQ,MAAR,gBACQ,EAAR,2B,YCjFIA,EAAY,YACd,GHRW,WAAa,IAAiBC,EAATC,KAAgBC,eAAmBC,EAAnCF,KAA0CG,MAAMD,IAAIH,EAAG,OAAOG,EAAG,MAAM,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,GAA/FJ,KAAwGK,GAAG,WAA3GL,KAA0HM,UAAU,kBAApIN,KAA0JO,eAAe,oBAAzKP,KAAiMQ,iBAAiB,4BAAlNR,KAAkPS,4BAA4B,KAC1R,IGUpB,EACA,KACA,WACA,MAIa,UAAAX,E","file":"10.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vue-table',{attrs:{\"id\":_vm.id,\"sync-url\":_vm.fetchData,\"cell-components\":_vm.vueTableFields,\"filter-components\":_vm.filterComponents,\"mass-operation-components\":_vm.massOperationComponents}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--4-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--4-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","<template>\r\n    <div>\r\n        <vue-table\r\n                :id=\"id\"\r\n                :sync-url=\"fetchData\"\r\n                :cell-components=\"vueTableFields\"\r\n                :filter-components=\"filterComponents\"\r\n                :mass-operation-components=\"massOperationComponents\"\r\n        >\r\n        </vue-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {VueTable} from 'vue-component-table';\r\n\r\n    export default {\r\n        name: \"List\",\r\n        props: {\r\n            id: String,\r\n            entityUrl: String,\r\n            cellComponents: Array,\r\n            filterComponents: Array,\r\n            massOperationComponents: Array,\r\n        },\r\n        components: {\r\n            VueTable\r\n        },\r\n        computed: {\r\n            vueTableFields() {\r\n                var vm = this;\r\n                let result = [];\r\n                this.cellComponents.forEach(function(i) {\r\n                    var props = i.props ? i.props : {};\r\n                    if (i.props && i.props.link) {\r\n                        props.link = function(item) {\r\n                            return vm.entityUrl+'/detail?id='+item.id;\r\n                        };\r\n                    }\r\n\r\n                    if (i.props && i.props.url) {\r\n                        var url = i.props.url;\r\n                        props.url = function(item) {\r\n                            return url.toString().replace('%id%', item.id);\r\n                        };\r\n                    }\r\n\r\n                    result.push({\r\n                        component: i.component,\r\n                        field: i.field,\r\n                        label: i.label,\r\n                        props: props,\r\n                    })\r\n                });\r\n\r\n                return result;\r\n            }\r\n        },\r\n        methods: {\r\n            fetchData(success, requestData) {\r\n                var reqData = {};\r\n\r\n                if (requestData) {\r\n                    reqData = {};\r\n                    reqData.page = requestData.pagination.page;\r\n                    reqData.per_page = requestData.pagination.itemsPerPage;\r\n                    reqData.sortField = requestData.sort.field;\r\n                    reqData.sortDir = requestData.sort.direction;\r\n                    reqData.filter = requestData.filters;\r\n                }\r\n\r\n                this.$root.startProgress();\r\n                $.ajax({\r\n                    method: 'GET',\r\n                    url: this.entityUrl+'/list',\r\n                    data: reqData\r\n                }).done((response) => {\r\n                    if (success) {\r\n                        success({\r\n                            data: {\r\n                                items: response.models,\r\n                                total: response.pagination.totals\r\n                            }\r\n                        })\r\n                    }\r\n                    this.$root.stopProgress();\r\n                }).fail(() => {\r\n                    alert('server error');\r\n                    this.$root.stopProgress();\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=95fd4a62&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"95fd4a62\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}